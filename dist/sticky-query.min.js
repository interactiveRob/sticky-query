var stickyQuery=function(t){var e={};function r(i){if(e[i])return e[i].exports;var s=e[i]={i:i,l:!1,exports:{}};return t[i].call(s.exports,s,s.exports,r),s.l=!0,s.exports}return r.m=t,r.c=e,r.d=function(t,e,i){r.o(t,e)||Object.defineProperty(t,e,{enumerable:!0,get:i})},r.r=function(t){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(t,"__esModule",{value:!0})},r.t=function(t,e){if(1&e&&(t=r(t)),8&e)return t;if(4&e&&"object"==typeof t&&t&&t.__esModule)return t;var i=Object.create(null);if(r.r(i),Object.defineProperty(i,"default",{enumerable:!0,value:t}),2&e&&"string"!=typeof t)for(var s in t)r.d(i,s,function(e){return t[e]}.bind(null,s));return i},r.n=function(t){var e=t&&t.__esModule?function(){return t.default}:function(){return t};return r.d(e,"a",e),e},r.o=function(t,e){return Object.prototype.hasOwnProperty.call(t,e)},r.p="",r(r.s=0)}([function(t,e,r){"use strict";r.r(e),function(t,i){var s,n;e.default=(s=void 0!==t?t:(void 0).window||(void 0).global,n=function(t){let e,r={};function i(t){this.settings=t,this.url=window.location.href,this.allowedKeys=this.getAllowedKeys(),this.exclusionRules=this.getExclusionRules(),this.selector=this.buildSelector(),this.persistedParams={},this.persistedString=null,this.settings.callbackBefore(this),this.init(),this.settings.callbackBefore(this)}function s(t){return Array.prototype.slice.call(t)}return r.destroy=function(){e&&(s(document.querySelectorAll('[data-sticky-query="true"]')).forEach((function(t){let e=t.getAttribute("href"),r="";-1!==e.indexOf("#")&&(r="#"+e.split("#")[1]);let i=e.split("?")[0];i+=r.length?r:"",t.setAttribute("href",i)})),e=null)},r.init=function(t){r.destroy(),new i(e=function(){for(let t=1;t<arguments.length;t++)for(let e in arguments[t])arguments[t].hasOwnProperty(e)&&(arguments[0][e]=arguments[t][e]);return arguments[0]}({},{customSelector:null,allowedKeys:null,excludeAnchors:!0,excludeJavascript:!0,excludeHasQuery:!0,excludeCustom:null,callbackBefore:function(){},callbackAfter:function(){}},t||{}))},i.prototype.getAllowedKeys=function(){return this.settings.allowedKeys?e.allowedKeys.replace(/\s+/g,"").split(","):function(t){let e=new RegExp("[?&]([^#&=]*)","ig"),r=e.exec(t),i=[];for(;null!=r;)i.push(r[1]),r=e.exec(t);return i}(this.url)},i.prototype.buildPersistedQuery=function(){let t=Object.keys(this.persistedParams).reduce(function(t,e){return null===this.persistedParams[e]?t:(t.push(e+"="+this.persistedParams[e]),t)}.bind(this),[]);if(t.length)return"?"+t.join("&")},i.prototype.collectParameterValues=function(){this.allowedKeys.forEach(function(t){let e=function(t,e){let r=e,i=new RegExp("[?&]"+t+"=([^&#]*)","i").exec(r);return i?i[1]:null}(t,this.url);null!=e&&(this.persistedParams[t]=e)}.bind(this))},i.prototype.getExclusionRules=function(){return{customSelector:{status:!!this.settings.customSelector,selector:this.settings.customSelector},anchors:{status:this.settings.excludeAnchors,selector:':not([href^="#"])'},javascript:{status:this.settings.excludeJavascript,selector:':not([href*="javascript"])'},hasQuery:{status:this.settings.excludeHasQuery,selector:':not([href*="?"])'},customExclude:{status:!!this.settings.excludeCustom,selector:":not("+this.settings.excludeCustom+")"},defaultExclude:{status:!0,selector:":not(.sticky-query-ignore)"}}},i.prototype.buildSelector=function(){let t=Object.keys(this.exclusionRules).reduce(function(t,e){return this.exclusionRules[e].status?t+this.exclusionRules[e].selector:t}.bind(this),new String);return(this.settings.customSelector?"":"a[href]")+t},i.prototype.applyQueryParams=function(t){return t.forEach(function(t){let e=t.getAttribute("href"),r=e+this.persistedString;if(-1!==e.indexOf("#")){let t=e.split("#"),i="#"+t[1];r=(e=t[0])+this.persistedString+i}if(-1!==e.indexOf("?")){let t=e.split("?");r=(e=t[0])+this.persistedString}t.setAttribute("href",r),t.setAttribute("data-sticky-query",!0)}.bind(this)),t},i.prototype.debug=function(){window.url_params={},window.url_params.persistedParams=this.persistedParams,window.url_params.persistedString=this.persistedString,window.url_params.selector=this.selector},i.prototype.init=function(){if(-1==this.url.indexOf("?"))return;if(this.collectParameterValues(),this.persistedString=this.buildPersistedQuery(),!this.persistedString)return;let t=s(document.querySelectorAll(this.selector));this.applyQueryParams(t)},r},void("function"==typeof define&&r(3)?define(n()):"object"==typeof exports?i.exports=n():s.stickyQuery=n()))}.call(this,r(1),r(2)(t))},function(t,e){var r;r=function(){return this}();try{r=r||new Function("return this")()}catch(t){"object"==typeof window&&(r=window)}t.exports=r},function(t,e){t.exports=function(t){if(!t.webpackPolyfill){var e=Object.create(t);e.children||(e.children=[]),Object.defineProperty(e,"loaded",{enumerable:!0,get:function(){return e.l}}),Object.defineProperty(e,"id",{enumerable:!0,get:function(){return e.i}}),Object.defineProperty(e,"exports",{enumerable:!0}),e.webpackPolyfill=1}return e}},function(t,e){(function(e){t.exports=e}).call(this,{})}]);