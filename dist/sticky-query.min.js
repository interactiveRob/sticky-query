!function(t){var e={};function r(s){if(e[s])return e[s].exports;var i=e[s]={i:s,l:!1,exports:{}};return t[s].call(i.exports,i,i.exports,r),i.l=!0,i.exports}r.m=t,r.c=e,r.d=function(t,e,s){r.o(t,e)||Object.defineProperty(t,e,{enumerable:!0,get:s})},r.r=function(t){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(t,"__esModule",{value:!0})},r.t=function(t,e){if(1&e&&(t=r(t)),8&e)return t;if(4&e&&"object"==typeof t&&t&&t.__esModule)return t;var s=Object.create(null);if(r.r(s),Object.defineProperty(s,"default",{enumerable:!0,value:t}),2&e&&"string"!=typeof t)for(var i in t)r.d(s,i,function(e){return t[e]}.bind(null,i));return s},r.n=function(t){var e=t&&t.__esModule?function(){return t.default}:function(){return t};return r.d(e,"a",e),e},r.o=function(t,e){return Object.prototype.hasOwnProperty.call(t,e)},r.p="",r(r.s=0)}([function(t,e,r){(function(s){var i,n;void 0!==s||this.window||this.global,i=function(t){"use strict";let e,stickyQuery={};function r(t){this.settings=t,this.url=window.location.href,this.allowedKeys=this.getAllowedKeys(),this.exclusionRules=this.getExclusionRules(),this.selector=this.buildSelector(),this.persistedParams={},this.persistedString=null,this.settings.callbackBefore(this),this.init(),this.settings.callbackBefore(this)}function s(t){return Array.prototype.slice.call(t)}return stickyQuery.destroy=function(){e&&(s(document.querySelectorAll('[data-sticky-query="true"]')).forEach((function(t){let e=t.getAttribute("href"),r="";-1!==e.indexOf("#")&&(r="#"+e.split("#")[1]);let s=e.split("?")[0];s+=r.length?r:"",t.setAttribute("href",s)})),e=null)},stickyQuery.init=function(t){stickyQuery.destroy(),new r(e=function(){for(let t=1;t<arguments.length;t++)for(let e in arguments[t])arguments[t].hasOwnProperty(e)&&(arguments[0][e]=arguments[t][e]);return arguments[0]}({},{allowedKeys:null,excludeAnchors:!0,excludeJavascript:!0,excludeHasQuery:!0,excludeCustom:null,callbackBefore:function(){},callbackAfter:function(){}},t||{}))},r.prototype.getAllowedKeys=function(){return this.settings.allowedKeys?e.allowedKeys.replace(/\s+/g,"").split(","):function(t){let e=new RegExp("[?&]([^#&=]*)","ig"),r=e.exec(t),s=[];for(;null!=r;)s.push(r[1]),r=e.exec(t);return s}(this.url)},r.prototype.buildPersistedQuery=function(){return"?"+Object.keys(this.persistedParams).reduce(function(t,e){return null===this.persistedParams[e]?t:(t.push(e+"="+this.persistedParams[e]),t)}.bind(this),[]).join("&")},r.prototype.collectParameterValues=function(){this.allowedKeys.forEach(function(t){let e=function(t,e){let r=e,s=new RegExp("[?&]"+t+"=([^&#]*)","i").exec(r);return s?s[1]:null}(t,this.url);null!=e&&(this.persistedParams[t]=e)}.bind(this))},r.prototype.getExclusionRules=function(){return{anchors:{status:this.settings.excludeAnchors,selector:':not([href^="#"])'},javascript:{status:this.settings.excludeJavascript,selector:':not([href*="javascript"])'},hasQuery:{status:this.settings.excludeHasQuery,selector:':not([href*="?"])'},customExclude:{status:!!this.settings.excludeCustom,selector:":not("+this.settings.excludeCustom+")"},defaultExclude:{status:!0,selector:":not(.sticky-query-ignore)"}}},r.prototype.buildSelector=function(){return"a[href]"+Object.keys(this.exclusionRules).reduce(function(t,e){return this.exclusionRules[e].status?t+this.exclusionRules[e].selector:t}.bind(this),new String)},r.prototype.applyQueryParams=function(t){return t.forEach(function(t){let e=t.getAttribute("href"),r=e+this.persistedString;if(-1!==e.indexOf("#")){let t=e.split("#"),s="#"+t[1];r=(e=t[0])+this.persistedString+s}t.setAttribute("href",r),t.setAttribute("data-sticky-query",!0)}.bind(this)),t},r.prototype.debug=function(){window.url_params={},window.url_params.persistedParams=this.persistedParams,window.url_params.persistedString=this.persistedString,window.url_params.selector=this.selector},r.prototype.init=function(){this.collectParameterValues(),this.persistedString=this.buildPersistedQuery();let t=s(document.querySelectorAll(this.selector));this.applyQueryParams(t)},stickyQuery}(),void 0===(n="function"==typeof i?i.call(e,r,e,t):i)||(t.exports=n)}).call(this,r(1))},function(t,e){var r;r=function(){return this}();try{r=r||new Function("return this")()}catch(t){"object"==typeof window&&(r=window)}t.exports=r}]);