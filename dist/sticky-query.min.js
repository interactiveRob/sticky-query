var stickyQuery=function(t){var e={};function s(r){if(e[r])return e[r].exports;var i=e[r]={i:r,l:!1,exports:{}};return t[r].call(i.exports,i,i.exports,s),i.l=!0,i.exports}return s.m=t,s.c=e,s.d=function(t,e,r){s.o(t,e)||Object.defineProperty(t,e,{enumerable:!0,get:r})},s.r=function(t){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(t,"__esModule",{value:!0})},s.t=function(t,e){if(1&e&&(t=s(t)),8&e)return t;if(4&e&&"object"==typeof t&&t&&t.__esModule)return t;var r=Object.create(null);if(s.r(r),Object.defineProperty(r,"default",{enumerable:!0,value:t}),2&e&&"string"!=typeof t)for(var i in t)s.d(r,i,function(e){return t[e]}.bind(null,i));return r},s.n=function(t){var e=t&&t.__esModule?function(){return t.default}:function(){return t};return s.d(e,"a",e),e},s.o=function(t,e){return Object.prototype.hasOwnProperty.call(t,e)},s.p="",s(s.s=0)}([function(t,e,s){(function(r){var i,n;void 0!==r||this.window||this.global,i=function(t){"use strict";let e,s={};function r(t){this.settings=t,this.url=window.location.href,this.allowedKeys=this.getAllowedKeys(),this.exclusionRules=this.getExclusionRules(),this.selector=this.buildSelector(),this.persistedParams={},this.persistedString=null,this.settings.callbackBefore(this),this.init(),this.settings.callbackBefore(this)}function i(t){return Array.prototype.slice.call(t)}return s.destroy=function(){e&&(i(document.querySelectorAll('[data-sticky-query="true"]')).forEach((function(t){let e=t.getAttribute("href"),s="";-1!==e.indexOf("#")&&(s="#"+e.split("#")[1]);let r=e.split("?")[0];r+=s.length?s:"",t.setAttribute("href",r)})),e=null)},s.init=function(t){s.destroy(),new r(e=function(){for(let t=1;t<arguments.length;t++)for(let e in arguments[t])arguments[t].hasOwnProperty(e)&&(arguments[0][e]=arguments[t][e]);return arguments[0]}({},{customSelector:null,allowedKeys:null,excludeAnchors:!0,excludeJavascript:!0,excludeHasQuery:!0,excludeCustom:null,callbackBefore:function(){},callbackAfter:function(){}},t||{}))},r.prototype.getAllowedKeys=function(){return this.settings.allowedKeys?e.allowedKeys.replace(/\s+/g,"").split(","):function(t){let e=new RegExp("[?&]([^#&=]*)","ig"),s=e.exec(t),r=[];for(;null!=s;)r.push(s[1]),s=e.exec(t);return r}(this.url)},r.prototype.buildPersistedQuery=function(){return"?"+Object.keys(this.persistedParams).reduce(function(t,e){return null===this.persistedParams[e]?t:(t.push(e+"="+this.persistedParams[e]),t)}.bind(this),[]).join("&")},r.prototype.collectParameterValues=function(){this.allowedKeys.forEach(function(t){let e=function(t,e){let s=e,r=new RegExp("[?&]"+t+"=([^&#]*)","i").exec(s);return r?r[1]:null}(t,this.url);null!=e&&(this.persistedParams[t]=e)}.bind(this))},r.prototype.getExclusionRules=function(){return{customSelector:{status:!!this.settings.customSelector,selector:this.settings.customSelector},anchors:{status:this.settings.excludeAnchors,selector:':not([href^="#"])'},javascript:{status:this.settings.excludeJavascript,selector:':not([href*="javascript"])'},hasQuery:{status:this.settings.excludeHasQuery,selector:':not([href*="?"])'},customExclude:{status:!!this.settings.excludeCustom,selector:":not("+this.settings.excludeCustom+")"},defaultExclude:{status:!0,selector:":not(.sticky-query-ignore)"}}},r.prototype.buildSelector=function(){return"a[href]"+Object.keys(this.exclusionRules).reduce(function(t,e){return this.exclusionRules[e].status?t+this.exclusionRules[e].selector:t}.bind(this),new String)},r.prototype.applyQueryParams=function(t){return t.forEach(function(t){let e=t.getAttribute("href"),s=e+this.persistedString;if(-1!==e.indexOf("#")){let t=e.split("#"),r="#"+t[1];s=(e=t[0])+this.persistedString+r}if(-1!==e.indexOf("?")){let t=e.split("?");s=(e=t[0])+this.persistedString}t.setAttribute("href",s),t.setAttribute("data-sticky-query",!0)}.bind(this)),t},r.prototype.debug=function(){window.url_params={},window.url_params.persistedParams=this.persistedParams,window.url_params.persistedString=this.persistedString,window.url_params.selector=this.selector},r.prototype.init=function(){this.collectParameterValues(),this.persistedString=this.buildPersistedQuery();let t=i(document.querySelectorAll(this.selector));this.applyQueryParams(t)},s}(),void 0===(n="function"==typeof i?i.call(e,s,e,t):i)||(t.exports=n)}).call(this,s(1))},function(t,e){var s;s=function(){return this}();try{s=s||new Function("return this")()}catch(t){"object"==typeof window&&(s=window)}t.exports=s}]);